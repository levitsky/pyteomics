
pipelines:
  default:
    - parallel:
      - step:
          name: Python 3.8
          image: python:3.8
          caches:
            - pip
          script:
            - pip install lxml numpy sqlalchemy pandas
            - pip install pynumpress
            - cd tests; PYTHONPATH=.. find . -name 'test_*.py' -print0 | xargs -0 -n1 python

      - step:
          name: Python 2.7
          image: python:2.7
          caches:
            - pip
          script:
            - pip install lxml numpy sqlalchemy pandas
            - pip install pynumpress
            - cd tests; PYTHONPATH=.. find . -name 'test_*.py' -print0 | xargs -0 -n1 python
